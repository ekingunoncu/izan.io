{
  "id": "hn-search",
  "name": "search_hacker_news",
  "description": "Search Hacker News for stories by keyword and extract titles, scores, and links",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "query",
      "type": "string",
      "description": "Search keyword",
      "required": true,
      "source": "urlParam",
      "sourceKey": "q"
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://hn.algolia.com/",
      "urlParams": {
        "q": "{{query}}"
      },
      "label": "Navigate to Hacker News search"
    },
    {
      "action": "waitForSelector",
      "selector": ".Story",
      "timeout": 10000,
      "label": "Wait for search results to load"
    },
    {
      "action": "extract",
      "name": "stories",
      "mode": "list",
      "containerSelector": ".Story",
      "fields": [
        {
          "key": "title",
          "selector": ".Story_title a",
          "type": "text"
        },
        {
          "key": "url",
          "selector": ".Story_title a",
          "type": "attribute",
          "attribute": "href"
        },
        {
          "key": "points",
          "selector": ".Story_meta span:first-child",
          "type": "text"
        }
      ],
      "label": "Extract story list"
    }
  ]
}
