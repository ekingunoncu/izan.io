{
  "id": "untappd-scrape-brewery",
  "name": "untappd_scrape_brewery",
  "description": "Scrape brewery details on Untappd including name, location, and beer list.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "brewery_id",
      "type": "string",
      "description": "Brewery numeric ID from Untappd URL (e.g. '1234' from untappd.com/w/brewery-name/1234)",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://untappd.com/w/brewery/{{brewery_id}}",
      "label": "Open Untappd"
    },
    {
      "action": "waitForSelector",
      "selector": "h1, .name, .content",
      "timeout": 15000,
      "label": "Wait for page"
    },
    {
      "action": "wait",
      "ms": 2500,
      "label": "Let page render"
    },
    {
      "action": "code",
      "code": "const name = document.querySelector('h1, .name h1')?.textContent?.trim() || ''; const loc = document.querySelector('.brewery-location, .location')?.textContent?.trim() || ''; const beers = []; document.querySelectorAll('.beer-item, .beer-list .beer').forEach((el, i) => { if (i < 10) beers.push(el.querySelector('.name a, .beer-name')?.textContent?.trim() || ''); }); return { name, location: loc, beers, url: window.location.href };",
      "name": "result",
      "label": "Extract data"
    }
  ]
}
