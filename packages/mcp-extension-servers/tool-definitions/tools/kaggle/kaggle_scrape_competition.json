{
  "id": "kaggle-scrape-competition",
  "name": "kaggle_scrape_competition",
  "description": "Scrape a Kaggle competition overview page. Returns title, description, prize, deadline, team count, evaluation metric, and tags.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "competition_slug",
      "type": "string",
      "description": "Competition slug (e.g. 'titanic', 'spaceship-titanic')",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://www.kaggle.com/competitions/{{competition_slug}}",
      "label": "Open competition page"
    },
    {
      "action": "waitForSelector",
      "selector": "h1, [role='main']",
      "timeout": 15000,
      "label": "Wait for competition page"
    },
    {
      "action": "wait",
      "ms": 3000,
      "label": "Let page render"
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 1000,
      "label": "Scroll for more content"
    },
    {
      "action": "wait",
      "ms": 2000
    },
    {
      "action": "code",
      "code": "const title = document.querySelector('h1')?.textContent?.trim() || document.title.split('|')[0]?.trim() || ''; const paragraphs = Array.from(document.querySelectorAll('p, [class*=\"description\"], [class*=\"markdown\"]')).map(e => e.textContent.trim()).filter(t => t.length > 50); const desc = paragraphs.slice(0, 3).join(' ').substring(0, 1500); const allText = document.body.innerText; const prizeMatch = allText.match(/\\$[\\d,]+/); const teamMatch = allText.match(/(\\d[\\d,]*)\\s*teams?/i); const deadlineMatch = allText.match(/(?:deadline|closes?|ends?)\\s*:?\\s*([A-Za-z]+\\s+\\d{1,2},?\\s+\\d{4})/i); const timeEl = document.querySelector('time'); const tags = []; const seen = new Set(); document.querySelectorAll('a[href*=\"/tags/\"], a[href*=\"/competitions?\"]').forEach(a => { const text = a.textContent.trim(); if (text && text.length < 50 && !seen.has(text)) { seen.add(text); tags.push(text); } }); return { title, description: desc, prize: prizeMatch ? prizeMatch[0] : '', teams: teamMatch ? teamMatch[1] : '', deadline: deadlineMatch ? deadlineMatch[1] : (timeEl ? timeEl.textContent.trim() : ''), tags: tags.slice(0, 10), url: window.location.href };",
      "name": "page_data",
      "label": "Extract competition data"
    }
  ]
}
