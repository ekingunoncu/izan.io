{
  "id": "glassdoor-search-jobs",
  "name": "glassdoor_search_jobs",
  "description": "Search for jobs on Glassdoor by keywords and optional location. Returns up to 15 job listings with title, company, location, salary estimate, and URL.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "query",
      "type": "string",
      "description": "Job search query (e.g. 'software engineer', 'product manager')",
      "required": true
    },
    {
      "name": "location",
      "type": "string",
      "description": "Optional location filter (e.g. 'New York, NY', 'San Francisco, CA')",
      "required": false
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://www.glassdoor.com/Job/jobs.htm",
      "urlParams": {
        "sc.keyword": "{{query}}",
        "locT": "",
        "locKeyword": "{{location}}"
      },
      "label": "Search Glassdoor jobs"
    },
    {
      "action": "waitForSelector",
      "selector": ".jobCard, .react-job-listing, [data-test=\"jobListing\"], .JobsList_jobListItem__wjTHv, li[data-jobid]",
      "timeout": 15000,
      "label": "Wait for job results"
    },
    {
      "action": "wait",
      "ms": 2500,
      "label": "Let results render"
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 1000,
      "label": "Scroll to load more jobs"
    },
    {
      "action": "wait",
      "ms": 1500
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 1000,
      "label": "Scroll further"
    },
    {
      "action": "wait",
      "ms": 1500
    },
    {
      "action": "code",
      "code": "const jobs = []; const cards = document.querySelectorAll('.jobCard, .react-job-listing, [data-test=\"jobListing\"], li[data-jobid], .JobsList_jobListItem__wjTHv'); for (let i = 0; i < Math.min(cards.length, 15); i++) { const card = cards[i]; const titleEl = card.querySelector('.job-title, .jobTitle, a[data-test=\"job-title\"], .JobCard_jobTitle__GLyJ1, .job-link'); const companyEl = card.querySelector('.employer-name, .job-employer, [data-test=\"employer-name\"], .EmployerProfile_compactEmployerName__9MGcV, .employer-tile'); const locationEl = card.querySelector('.location, [data-test=\"emp-location\"], .JobCard_location__rCz3x, .job-location'); const salaryEl = card.querySelector('.salary-estimate, [data-test=\"detailSalary\"], .JobCard_salaryEstimate__QpbTW, .salary'); const ratingEl = card.querySelector('.rating, [data-test=\"rating\"], .employer-rating'); const linkEl = card.querySelector('a[href*=\"/job-listing/\"], a[href*=\"/partner/\"], a.jobTitle, a.job-link, a[data-test=\"job-title\"]'); let url = ''; if (linkEl) { const href = linkEl.getAttribute('href') || ''; url = href.startsWith('http') ? href : 'https://www.glassdoor.com' + href; } jobs.push({ title: titleEl ? titleEl.textContent.trim() : 'Unknown', company: companyEl ? companyEl.textContent.trim() : '', location: locationEl ? locationEl.textContent.trim() : '', salary_estimate: salaryEl ? salaryEl.textContent.trim() : 'Not listed', company_rating: ratingEl ? ratingEl.textContent.trim() : '', url: url }); } return { query: '{{query}}', location: '{{location}}', job_count: jobs.length, jobs: jobs }",
      "name": "search_results",
      "label": "Extract job listings"
    }
  ]
}