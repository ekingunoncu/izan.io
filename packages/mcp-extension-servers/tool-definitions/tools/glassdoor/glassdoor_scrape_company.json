{
  "id": "glassdoor-scrape-company",
  "name": "glassdoor_scrape_company",
  "description": "Scrape a company's overview page on Glassdoor. Returns company name, rating, description, size, industry, revenue, headquarters, founded year, and top pros/cons from reviews.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "company_url",
      "type": "string",
      "description": "Glassdoor company overview URL (e.g. 'https://www.glassdoor.com/Overview/Working-at-Google-EI_IE9079.htm')",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "{{company_url}}",
      "label": "Open Glassdoor company page"
    },
    {
      "action": "waitForSelector",
      "selector": "[data-test=\"employer-name\"], .employer-name, .employerName, h1[data-test=\"employerName\"], h1",
      "timeout": 15000,
      "label": "Wait for company page to load"
    },
    {
      "action": "wait",
      "ms": 2500,
      "label": "Let page settle"
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 800,
      "label": "Scroll to load more info"
    },
    {
      "action": "wait",
      "ms": 1500
    },
    {
      "action": "code",
      "code": "const nameEl = document.querySelector('[data-test=\"employer-name\"], .employer-name, .employerName, h1[data-test=\"employerName\"]'); const ratingEl = document.querySelector('[data-test=\"rating-info\"], .ratingNum, .rating-num, [class*=\"ratingNum\"]'); const descEl = document.querySelector('[data-test=\"employerDescription\"], .employer-description, .empDescription, [class*=\"employerDescription\"]'); const infoItems = document.querySelectorAll('[data-test=\"employer-size\"], [data-test=\"employer-revenue\"], [data-test=\"employer-industry\"], [data-test=\"employer-headquarters\"], [data-test=\"employer-founded\"], [data-test=\"employer-type\"], .employer-overview-item, .infoEntity'); let size = ''; let revenue = ''; let industry = ''; let headquarters = ''; let founded = ''; let type = ''; const infoSections = document.querySelectorAll('.infoEntity, .employer-overview-item, [class*=\"EmpBasicInfo\"] div, [data-test=\"employer-size\"], [data-test=\"employer-revenue\"], [data-test=\"employer-industry\"], [data-test=\"employer-headquarters\"], [data-test=\"employer-founded\"], [data-test=\"employer-type\"]'); infoSections.forEach(section => { const label = section.querySelector('label, .infoEntity__label, dt, h6, span:first-child'); const value = section.querySelector('.infoEntity__value, dd, span:last-child, p'); if (label && value) { const lbl = label.textContent.trim().toLowerCase(); const val = value.textContent.trim(); if (lbl.includes('size') || lbl.includes('employee')) size = val; else if (lbl.includes('revenue')) revenue = val; else if (lbl.includes('industry') || lbl.includes('sector')) industry = val; else if (lbl.includes('headquarters') || lbl.includes('location')) headquarters = val; else if (lbl.includes('founded') || lbl.includes('year')) founded = val; else if (lbl.includes('type')) type = val; } }); const recommendEl = document.querySelector('[data-test=\"recommend-pct\"], .recommendToFriend, [class*=\"recommendToFriend\"]'); const ceoApprovalEl = document.querySelector('[data-test=\"ceo-approval-pct\"], .ceoApproval, [class*=\"ceoApproval\"]'); return { name: nameEl ? nameEl.textContent.trim() : '', overall_rating: ratingEl ? ratingEl.textContent.trim() : '', description: descEl ? descEl.textContent.trim().slice(0, 1000) : '', size: size, revenue: revenue, industry: industry, headquarters: headquarters, founded: founded, type: type, recommend_to_friend: recommendEl ? recommendEl.textContent.trim() : '', ceo_approval: ceoApprovalEl ? ceoApprovalEl.textContent.trim() : '', company_url: window.location.href }",
      "name": "company_data",
      "label": "Extract company overview"
    }
  ]
}