{
  "id": "coinbase-scrape-trending",
  "name": "coinbase_scrape_trending",
  "description": "Scrape most visited and trending cryptocurrencies on Coinbase.",
  "version": "1.0.0",
  "parameters": [],
  "steps": [
    {
      "action": "navigate",
      "url": "https://www.coinbase.com/explore/s/most-visited",
      "label": "Open page"
    },
    {
      "action": "waitForSelector",
      "selector": "table, a[href*='/price/']",
      "timeout": 15000,
      "label": "Wait for content"
    },
    {
      "action": "wait",
      "ms": 2500,
      "label": "Let page render"
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 1000,
      "label": "Scroll for more"
    },
    {
      "action": "wait",
      "ms": 2000
    },
    {
      "action": "code",
      "code": "const assets = []; document.querySelectorAll('table tbody tr, a[href*=\"/price/\"]').forEach((el, i) => { if (i >= 20) return; const name = el.querySelector('td:first-child, h2, p')?.textContent?.trim() || el.textContent?.trim() || ''; const price = el.querySelector('td:nth-child(2), [class*=\"Price\"]')?.textContent?.trim() || ''; const change = el.querySelector('td:nth-child(3), [class*=\"Change\"]')?.textContent?.trim() || ''; const link = el.querySelector('a[href*=\"/price/\"]') || (el.matches?.('a[href*=\"/price/\"]') ? el : null); const url = link ? link.href : ''; if (name && name.length < 100) assets.push({ rank: i + 1, name, price, change_24h: change, url }); }); return { assets, url: window.location.href }",
      "name": "page_data",
      "label": "Extract data"
    }
  ]
}
