{
  "id": "indeed-save-job",
  "name": "indeed_save_job",
  "description": "Save or bookmark a job listing on Indeed. Navigates to the job page and clicks the save/bookmark button. Requires being logged in to Indeed.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "job_url",
      "type": "string",
      "description": "Indeed job URL to save (e.g. 'https://www.indeed.com/viewjob?jk=abc123')",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "{{job_url}}",
      "label": "Open job posting"
    },
    {
      "action": "waitForSelector",
      "selector": ".jobsearch-JobInfoHeader-title, h1.jobsearch-JobInfoHeader-title, [data-testid=\"jobsearch-JobInfoHeader-title\"]",
      "timeout": 15000,
      "label": "Wait for job page to load"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let page settle"
    },
    {
      "action": "code",
      "code": "const titleEl = document.querySelector('.jobsearch-JobInfoHeader-title, h1.jobsearch-JobInfoHeader-title, [data-testid=\"jobsearch-JobInfoHeader-title\"]'); const companyEl = document.querySelector('[data-testid=\"inlineHeader-companyName\"] a, .jobsearch-InlineCompanyRating a'); const jobTitle = titleEl ? titleEl.textContent.trim() : 'Unknown'; const company = companyEl ? companyEl.textContent.trim() : ''; return { job_title: jobTitle, company: company }",
      "name": "job_info",
      "label": "Get job info before saving"
    },
    {
      "action": "code",
      "code": "const saveBtn = document.querySelector('button[aria-label*=\"Save\"], button[aria-label*=\"save\"], button.jobsearch-SaveJobButton, [data-testid=\"save-job-button\"], button.css-1kwnlnx, #saveJobButton, button[id*=\"save\"]'); const alreadySaved = document.querySelector('button[aria-label*=\"Saved\"], button[aria-label*=\"saved\"], button.jobsearch-SaveJobButton.saved, [data-testid=\"saved-job-button\"]'); if (alreadySaved) { return { success: true, already_saved: true, message: 'Job is already saved' }; } if (saveBtn) { saveBtn.click(); return { success: true, already_saved: false, message: 'Save button clicked' }; } const heartBtn = document.querySelector('button[aria-label*=\"heart\"], button[aria-label*=\"favorite\"], .jobsearch-SaveJob button, button svg[aria-label*=\"save\"]'); if (heartBtn) { const btn = heartBtn.closest('button') || heartBtn; btn.click(); return { success: true, already_saved: false, message: 'Save button clicked (heart icon)' }; } return { success: false, already_saved: false, message: 'Save button not found. You may need to be logged in to Indeed.' }",
      "name": "save_result",
      "label": "Click save/bookmark button"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Wait for save action to complete"
    },
    {
      "action": "code",
      "code": "const savedIndicator = document.querySelector('button[aria-label*=\"Saved\"], button[aria-label*=\"saved\"], button.jobsearch-SaveJobButton.saved, [data-testid=\"saved-job-button\"]'); const loginModal = document.querySelector('#login-modal, .auth-modal, [data-testid=\"login-modal\"], form[action*=\"login\"]'); if (loginModal) { return { confirmed: false, message: 'Login required. Please sign in to Indeed to save jobs.', url: window.location.href }; } return { confirmed: !!savedIndicator, message: savedIndicator ? 'Job saved successfully' : 'Save action completed - verify in your Indeed account', url: window.location.href }",
      "name": "confirmation",
      "label": "Confirm save action"
    }
  ]
}