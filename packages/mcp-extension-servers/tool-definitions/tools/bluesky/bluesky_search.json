{
  "id": "bluesky-search",
  "name": "bluesky_search",
  "description": "Search for posts on Bluesky. Returns up to 15 results with author, content, likes, reposts, replies, and URL.",
  "version": "1.0.0",
  "parameters": [
    { "name": "query", "type": "string", "description": "Search query (e.g. 'AI news', 'web development', '#tech')", "required": true }
  ],
  "steps": [
    { "action": "navigate", "url": "https://bsky.app/search?q={{query}}", "label": "Search Bluesky" },
    { "action": "waitForSelector", "selector": "[data-testid='postText'], [class*='Post'], article", "timeout": 15000, "label": "Wait for results" },
    { "action": "wait", "ms": 2000, "label": "Let results render" },
    { "action": "scroll", "direction": "down", "amount": 1000, "label": "Scroll for more" },
    { "action": "wait", "ms": 1500 },
    { "action": "scroll", "direction": "down", "amount": 1000, "label": "Scroll further" },
    { "action": "wait", "ms": 1500 },
    {
      "action": "code",
      "code": "const results = []; const posts = document.querySelectorAll('[data-testid=\"feedItem\"], [data-testid=\"postThreadItem\"], article, [class*=\"FeedItem\"]'); for (let i = 0; i < Math.min(posts.length, 15); i++) { const el = posts[i]; const authorEl = el.querySelector('[data-testid=\"profileHeaderDisplayName\"], [class*=\"displayName\"], a[href*=\"/profile/\"]'); const handleEl = el.querySelector('[class*=\"handle\"], [data-testid=\"profileHeaderHandle\"]'); const contentEl = el.querySelector('[data-testid=\"postText\"], [class*=\"postText\"]'); const likesEl = el.querySelector('[data-testid=\"likeCount\"], [class*=\"like\"] [class*=\"count\"]'); const repostsEl = el.querySelector('[data-testid=\"repostCount\"], [class*=\"repost\"] [class*=\"count\"]'); const repliesEl = el.querySelector('[data-testid=\"replyCount\"], [class*=\"reply\"] [class*=\"count\"]'); const timeEl = el.querySelector('time, [data-testid=\"postTimestamp\"]'); const linkEl = el.querySelector('a[href*=\"/post/\"]'); const imgEl = el.querySelector('[data-testid=\"postMedia\"] img, [class*=\"embed\"] img'); results.push({ author: authorEl ? authorEl.textContent.trim() : '', handle: handleEl ? handleEl.textContent.trim() : '', content: contentEl ? contentEl.textContent.trim().substring(0, 500) : '', likes: likesEl ? likesEl.textContent.trim() : '', reposts: repostsEl ? repostsEl.textContent.trim() : '', replies: repliesEl ? repliesEl.textContent.trim() : '', time: timeEl ? timeEl.textContent.trim() : '', url: linkEl ? linkEl.href : '', has_image: !!imgEl }); } return { query: `{{query}}`, result_count: results.length, results: results }",
      "name": "search_results",
      "label": "Extract search results"
    }
  ]
}