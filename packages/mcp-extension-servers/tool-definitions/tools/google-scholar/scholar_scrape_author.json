{
  "id": "scholar-scrape-author",
  "name": "scholar_scrape_author",
  "description": "Scrape a Google Scholar author profile. Returns author name, affiliation, research interests, citation metrics (total citations, h-index, i10-index), and their recent publications.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "user_id",
      "type": "string",
      "description": "Google Scholar user ID (e.g. 'JicYPdAAAAAJ' from the citations URL)",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://scholar.google.com/citations?user={{user_id}}&hl=en",
      "label": "Open author profile"
    },
    {
      "action": "waitForSelector",
      "selector": "#gsc_prf_in, #gsc_a_t, .gsc_rsb",
      "timeout": 15000,
      "label": "Wait for author profile to load"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let profile render"
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 800,
      "label": "Scroll to load more publications"
    },
    {
      "action": "wait",
      "ms": 1500
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 800,
      "label": "Scroll further"
    },
    {
      "action": "wait",
      "ms": 1500
    },
    {
      "action": "code",
      "code": "const nameEl = document.querySelector('#gsc_prf_in'); const affiliationEl = document.querySelector('.gsc_prf_il'); const interestEls = document.querySelectorAll('#gsc_prf_int a'); const interests = []; interestEls.forEach(function(el) { interests.push(el.textContent.trim()); }); const imgEl = document.querySelector('#gsc_prf_pup-img'); const emailVerifyEls = document.querySelectorAll('.gsc_prf_il'); const emailEl = emailVerifyEls.length >= 2 ? emailVerifyEls[1] : null; const metricsTable = document.querySelector('#gsc_rsb_st'); let totalCitations = ''; let hIndex = ''; let i10Index = ''; let totalCitationsRecent = ''; let hIndexRecent = ''; let i10IndexRecent = ''; if (metricsTable) { const rows = metricsTable.querySelectorAll('tr'); rows.forEach(function(row) { const cells = row.querySelectorAll('td'); if (cells.length >= 3) { const label = cells[0].textContent.trim().toLowerCase(); if (label.includes('citations')) { totalCitations = cells[1].textContent.trim(); totalCitationsRecent = cells[2].textContent.trim(); } else if (label.includes('h-index')) { hIndex = cells[1].textContent.trim(); hIndexRecent = cells[2].textContent.trim(); } else if (label.includes('i10-index')) { i10Index = cells[1].textContent.trim(); i10IndexRecent = cells[2].textContent.trim(); } } }); } const publications = []; const pubRows = document.querySelectorAll('.gsc_a_tr'); for (let i = 0; i < Math.min(pubRows.length, 20); i++) { const row = pubRows[i]; const titleEl = row.querySelector('.gsc_a_at'); const grayEls = row.querySelectorAll('.gs_gray'); const authorsEl = grayEls.length >= 1 ? grayEls[0] : null; const venueEl = grayEls.length >= 2 ? grayEls[1] : null; const citedEl = row.querySelector('.gsc_a_ac'); const yearEl = row.querySelector('.gsc_a_y span'); publications.push({ title: titleEl ? titleEl.textContent.trim() : '', url: titleEl ? 'https://scholar.google.com' + titleEl.getAttribute('href') : '', authors: authorsEl ? authorsEl.textContent.trim() : '', venue: venueEl ? venueEl.textContent.trim() : '', cited_by: citedEl ? citedEl.textContent.trim() : '0', year: yearEl ? yearEl.textContent.trim() : '' }); } return { name: nameEl ? nameEl.textContent.trim() : '', affiliation: affiliationEl ? affiliationEl.textContent.trim() : '', image: imgEl ? imgEl.getAttribute('src') : '', email_info: emailEl ? emailEl.textContent.trim() : '', interests: interests, metrics: { total_citations: totalCitations, total_citations_recent: totalCitationsRecent, h_index: hIndex, h_index_recent: hIndexRecent, i10_index: i10Index, i10_index_recent: i10IndexRecent }, publication_count: publications.length, publications: publications, profile_url: window.location.href }",
      "name": "author_data",
      "label": "Extract author profile"
    }
  ]
}