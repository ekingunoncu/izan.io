{
  "id": "tinder-send-message",
  "name": "tinder_send_message",
  "description": "Send a message to a Tinder match. Requires login.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "match_name",
      "type": "string",
      "description": "Name of the match to message",
      "required": true
    },
    {
      "name": "message",
      "type": "string",
      "description": "Message text to send",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://tinder.com/app/matches",
      "label": "Open matches"
    },
    {
      "action": "waitForSelector",
      "selector": "[class*=\"matchList\"], a[href*=\"/messages/\"]",
      "timeout": 15000,
      "label": "Wait for matches"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let matches load"
    },
    {
      "action": "code",
      "code": "const links = document.querySelectorAll('a[href*=\"/app/messages/\"], [class*=\"matchList\"] a, [class*=\"messageListItem\"] a, a[href*=\"/messages/\"]'); for (const link of links) { if (link.textContent?.toLowerCase()?.includes('{{match_name}}'.toLowerCase())) { link.click(); return { found: true }; } } return { found: false, message: 'Match not found' };",
      "name": "find_match",
      "label": "Find match"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Wait for chat"
    },
    {
      "action": "code",
      "code": "const input = document.querySelector('textarea, [class*=\"sendMessageForm__input\"], [contenteditable=\"true\"], input[type=\"text\"]'); if (!input) return { success: false, message: 'Message input not found' }; input.focus(); document.execCommand('insertText', false, '{{message}}'); input.dispatchEvent(new Event('input', { bubbles: true })); return { typed: true };",
      "name": "type_msg",
      "label": "Type message"
    },
    {
      "action": "wait",
      "ms": 500
    },
    {
      "action": "code",
      "code": "const sendBtn = document.querySelector('button[type=\"submit\"], [class*=\"send\"], [aria-label*=\"Send\"]'); if (sendBtn) { sendBtn.click(); return { success: true }; } return { success: false, message: 'Send button not found' };",
      "name": "result",
      "label": "Send message"
    }
  ]
}
