{
  "id": "maps-get-directions",
  "name": "maps_get_directions",
  "description": "Get directions between two locations on Google Maps. Returns distance, duration, and step-by-step directions.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "origin",
      "type": "string",
      "description": "Starting location (address or place name)",
      "required": true
    },
    {
      "name": "destination",
      "type": "string",
      "description": "Destination location (address or place name)",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://www.google.com/maps/dir/{{origin}}/{{destination}}",
      "label": "Open directions"
    },
    {
      "action": "waitForSelector",
      "selector": "div[role='list'], div[data-trip-index='0'], .directions-mode-group",
      "timeout": 15000,
      "label": "Wait for directions to load"
    },
    {
      "action": "wait",
      "ms": 3000,
      "label": "Let directions calculate"
    },
    {
      "action": "code",
      "code": "const main = document.querySelector('[role=\"main\"]'); const allText = main ? main.innerText : ''; const distMatch = allText.match(/(\\d[\\d.,]+\\s*(?:km|mi|miles|m|ft))/i); const durMatch = allText.match(/(\\d+\\s*(?:h(?:ours?)?|min(?:utes?)?|hr)[\\s\\d]*(?:min(?:utes?)?)?)/i); const steps = []; const stepEls = document.querySelectorAll('div[data-step-index], div[role=\"list\"] div[role=\"listitem\"], .directions-mode-step'); stepEls.forEach((step, i) => { if (i >= 15) return; const t = step.textContent.trim(); if (t.length > 2) steps.push(t); }); if (steps.length === 0) { const listItems = document.querySelectorAll('div[role=\"list\"] > div'); listItems.forEach((item, i) => { if (i >= 15) return; const t = item.textContent.trim(); if (t.length > 5) steps.push(t); }); } return { distance: distMatch ? distMatch[1] : '', duration: durMatch ? durMatch[1] : '', steps: steps, url: window.location.href }",
      "name": "directions",
      "label": "Extract directions"
    }
  ]
}
