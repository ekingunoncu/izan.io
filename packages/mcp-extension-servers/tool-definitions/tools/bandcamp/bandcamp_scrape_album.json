{
  "id": "bandcamp-scrape-album",
  "name": "bandcamp_scrape_album",
  "description": "Scrape a Bandcamp album page. Returns title, artist, tracklist with durations, tags, price, and album art URL.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "album_url",
      "type": "string",
      "description": "Full Bandcamp album URL (e.g. 'https://artist.bandcamp.com/album/album-name')",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "{{album_url}}",
      "label": "Open Bandcamp album page"
    },
    {
      "action": "waitForSelector",
      "selector": "#name-section, #tralbumArt",
      "timeout": 15000,
      "label": "Wait for album page"
    },
    {
      "action": "wait",
      "ms": 2500,
      "label": "Let page render"
    },
    {
      "action": "code",
      "code": "const title = document.querySelector('#name-section .trackTitle')?.textContent?.trim() || ''; const artist = document.querySelector('#name-section span a, #name-section h3 a')?.textContent?.trim() || ''; const albumArt = document.querySelector('#tralbumArt img')?.src || ''; const tracks = []; document.querySelectorAll('table#track_table tr.track_row_view').forEach(t => { const num = t.querySelector('.track-number-col .track_number')?.textContent?.trim() || ''; const name = t.querySelector('span.track-title')?.textContent?.trim() || ''; const dur = t.querySelector('.time')?.textContent?.trim() || ''; const link = t.querySelector('.info_link a')?.href || ''; if (name) tracks.push({ number: num, name, duration: dur, url: link }); }); const price = document.querySelector('.buyItem .base-text-color, .buyItemNy498 h4, .ft span.base-text-color')?.textContent?.trim() || ''; const about = document.querySelector('.tralbumData.tralbum-about')?.textContent?.trim() || ''; const releaseDate = document.querySelector('.tralbumData.tralbum-credits')?.textContent?.trim() || ''; const tags = []; document.querySelectorAll('.tralbumData .tag a, a.tag').forEach(t => tags.push(t.textContent?.trim())); return { title, artist, album_art: albumArt, track_count: tracks.length, tracks, price, about: about.substring(0, 500), tags, url: window.location.href };",
      "name": "result",
      "label": "Extract album data"
    }
  ]
}
