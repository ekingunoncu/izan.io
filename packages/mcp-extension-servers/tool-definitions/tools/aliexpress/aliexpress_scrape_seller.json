{
  "id": "aliexpress-scrape-seller",
  "name": "aliexpress_scrape_seller",
  "description": "Scrape a seller/store profile from AliExpress. Returns store name, rating, feedback score, followers, top products, and store age.",
  "version": "1.0.0",
  "parameters": [
    { "name": "store_url", "type": "string", "description": "AliExpress store URL (e.g. 'https://www.aliexpress.com/store/1234567')", "required": true }
  ],
  "steps": [
    { "action": "navigate", "url": "{{store_url}}", "label": "Open store page" },
    { "action": "waitForSelector", "selector": "[class*='store-name'], [class*='shop-name'], h1", "timeout": 15000, "label": "Wait for store page" },
    { "action": "wait", "ms": 2000 },
    { "action": "scroll", "direction": "down", "amount": 1000, "label": "Scroll for products" },
    { "action": "wait", "ms": 1500 },
    {
      "action": "code",
      "code": "const nameEl = document.querySelector('[class*=\"store-name\"], [class*=\"shop-name\"], h1'); const ratingEl = document.querySelector('[class*=\"store-rating\"], [class*=\"score\"]'); const followersEl = document.querySelector('[class*=\"followers\"], [class*=\"follower\"]'); const feedbackEl = document.querySelector('[class*=\"feedback\"], [class*=\"positive\"]'); const sinceEl = document.querySelector('[class*=\"since\"], [class*=\"open-date\"]'); const products = []; document.querySelectorAll('[class*=\"product-card\"], [class*=\"item-card\"], a[href*=\"/item/\"]').forEach(function(el) { const titleEl = el.querySelector('[class*=\"title\"], h3'); const priceEl = el.querySelector('[class*=\"price\"]'); const imgEl = el.querySelector('img'); const linkEl = el.tagName === 'A' ? el : el.querySelector('a'); if (products.length < 10) { products.push({ title: titleEl ? titleEl.textContent.trim().substring(0, 150) : '', price: priceEl ? priceEl.textContent.trim() : '', url: linkEl ? linkEl.href : '', image: imgEl ? imgEl.getAttribute('src') : '' }); } }); return { store_name: nameEl ? nameEl.textContent.trim() : '', rating: ratingEl ? ratingEl.textContent.trim() : '', followers: followersEl ? followersEl.textContent.trim() : '', feedback: feedbackEl ? feedbackEl.textContent.trim() : '', open_since: sinceEl ? sinceEl.textContent.trim() : '', product_count: products.length, top_products: products, url: window.location.href }",
      "name": "seller_data",
      "label": "Extract seller profile"
    }
  ]
}