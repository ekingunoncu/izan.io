{
  "id": "imdb-scrape-person",
  "name": "imdb_scrape_person",
  "description": "Scrape a person's profile from IMDb. Returns name, bio, filmography, known for titles, birth info, and awards.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "person_url",
      "type": "string",
      "description": "IMDb person URL (e.g. 'https://www.imdb.com/name/nm0634240/' for Christopher Nolan)",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "{{person_url}}",
      "label": "Open person page"
    },
    {
      "action": "waitForSelector",
      "selector": "[data-testid='hero__pageTitle'], h1, [class*='NameHeader']",
      "timeout": 15000,
      "label": "Wait for page to load"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let page render"
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 1000,
      "label": "Scroll to load filmography"
    },
    {
      "action": "wait",
      "ms": 1500
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 1000,
      "label": "Scroll further"
    },
    {
      "action": "wait",
      "ms": 1500
    },
    {
      "action": "code",
      "code": "const nameEl = document.querySelector('[data-testid=\"hero__pageTitle\"] span, h1 span, [class*=\"NameHeader\"] h1'); const bioEl = document.querySelector('[data-testid=\"bio-content\"], [class*=\"bio\"] p, [class*=\"inline\"]'); const photoEl = document.querySelector('[data-testid=\"hero__photo\"] img, [class*=\"Poster\"] img, #name-poster'); const birthInfoEl = document.querySelector('[data-testid=\"birth-and-death-info\"], [class*=\"birth\"]'); const knownFor = []; document.querySelectorAll('[data-testid=\"nm-flmg-known-for-card\"], [class*=\"KnownFor\"] [class*=\"KnownForCard\"]').forEach(function(el) { const titleEl = el.querySelector('a[href*=\"/title/\"], [class*=\"title\"]'); const yearEl = el.querySelector('[class*=\"year\"], span'); const roleEl = el.querySelector('[class*=\"role\"], [class*=\"character\"]'); const imgEl = el.querySelector('img'); knownFor.push({ title: titleEl ? titleEl.textContent.trim() : '', year: yearEl ? yearEl.textContent.trim() : '', role: roleEl ? roleEl.textContent.trim() : '', url: titleEl ? titleEl.href || '' : '', image: imgEl ? imgEl.getAttribute('src') : '' }); }); const filmography = []; const filmEls = document.querySelectorAll('[data-testid=\"nm-flmg-credits-single-item\"], [class*=\"FilmographyItem\"], [class*=\"filmography\"] [class*=\"row\"]'); for (let i = 0; i < Math.min(filmEls.length, 20); i++) { const el = filmEls[i]; const tEl = el.querySelector('a[href*=\"/title/\"], [class*=\"title\"]'); const yEl = el.querySelector('[class*=\"year\"]'); filmography.push({ title: tEl ? tEl.textContent.trim() : '', year: yEl ? yEl.textContent.trim() : '', url: tEl ? tEl.href || '' : '' }); } const awardsEl = document.querySelector('[data-testid=\"awards-summary\"], [class*=\"Awards\"]'); return { name: nameEl ? nameEl.textContent.trim() : '', bio: bioEl ? bioEl.textContent.trim().substring(0, 1500) : '', photo: photoEl ? photoEl.getAttribute('src') : '', birth_info: birthInfoEl ? birthInfoEl.textContent.trim() : '', known_for: knownFor.slice(0, 6), filmography: filmography, awards: awardsEl ? awardsEl.textContent.trim().substring(0, 500) : '', url: window.location.href }",
      "name": "person_data",
      "label": "Extract person profile"
    }
  ]
}