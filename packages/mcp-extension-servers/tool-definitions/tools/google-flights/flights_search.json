{
  "id": "flights-search",
  "name": "flights_search",
  "description": "Search for flights on Google Flights. Enter origin and destination cities to find available flights with prices, airlines, duration, and stops.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "from",
      "type": "string",
      "description": "Origin city or airport code (e.g. 'New York', 'JFK', 'London Heathrow')",
      "required": true
    },
    {
      "name": "to",
      "type": "string",
      "description": "Destination city or airport code (e.g. 'Los Angeles', 'LAX', 'Tokyo')",
      "required": true
    },
    {
      "name": "date",
      "type": "string",
      "description": "Departure date in YYYY-MM-DD format (optional, defaults to flexible dates)",
      "required": false
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://www.google.com/travel/flights?q={{from}}+to+{{to}}",
      "label": "Search Google Flights"
    },
    {
      "action": "waitForSelector",
      "selector": "li.pIav2d",
      "timeout": 20000,
      "label": "Wait for flight results"
    },
    {
      "action": "wait",
      "ms": 3000,
      "label": "Let results fully render"
    },
    {
      "action": "scroll",
      "direction": "down",
      "amount": 1000,
      "label": "Scroll to load more results"
    },
    {
      "action": "wait",
      "ms": 2000
    },
    {
      "action": "code",
      "code": "const results = []; const flightCards = document.querySelectorAll('li.pIav2d'); for (let i = 0; i < Math.min(flightCards.length, 10); i++) { const card = flightCards[i]; const priceEl = card.querySelector('div.FpEdX span, div.YMlIz span, span[data-gs]'); const airlineEl = card.querySelector('div.sSHqwe.tPgKwe.ogfYpf, div.sSHqwe span'); const depTimeEl = card.querySelector('span[aria-label^=\"Departure time\"], div.zxVSec span.eoY5cb'); const arrTimeEl = card.querySelector('span[aria-label^=\"Arrival time\"], div.zxVSec span.eoY5cb:last-child'); const durationEl = card.querySelector('div[aria-label^=\"Total duration\"], div.gvkrdb'); const stopsEl = card.querySelector('div.hF6lYb span.rGRiKd, div.EfT7Ae span, span[aria-label*=\"stop\"]'); const co2El = card.querySelector('div.O7CXue'); const linkEl = card.querySelector('a[href]'); results.push({ airline: airlineEl ? airlineEl.textContent.trim() : '', price: priceEl ? priceEl.textContent.trim() : '', departure_time: depTimeEl ? depTimeEl.textContent.trim() : '', arrival_time: arrTimeEl ? arrTimeEl.textContent.trim() : '', duration: durationEl ? durationEl.textContent.trim() : '', stops: stopsEl ? stopsEl.textContent.trim() : '', co2_emissions: co2El ? co2El.textContent.trim() : '', url: linkEl ? linkEl.href : window.location.href }); } return { from: `{{from}}`, to: `{{to}}`, result_count: results.length, results: results, url: window.location.href }",
      "name": "flight_results",
      "label": "Extract flight results"
    }
  ]
}