{
  "id": "slack-list-channels",
  "name": "slack_list_channels",
  "description": "List all channels in the Slack workspace with names, member counts, topics, and purposes.",
  "version": "1.0.0",
  "parameters": [],
  "steps": [
    {
      "action": "navigate",
      "url": "https://app.slack.com",
      "label": "Open Slack"
    },
    {
      "action": "wait",
      "ms": 3000,
      "label": "Let Slack load"
    },
    {
      "action": "code",
      "code": "const localConfig = localStorage.getItem('localConfig_v2'); if (!localConfig) throw new Error('Not logged into Slack'); const config = JSON.parse(localConfig); const teamId = Object.keys(config.teams)[0]; const token = config.teams[teamId].token; const resp = await fetch('/api/conversations.list?types=public_channel,private_channel&limit=200', { method: 'POST', headers: { 'Authorization': 'Bearer ' + token, 'Content-Type': 'application/x-www-form-urlencoded' } }); const data = await resp.json(); if (!data.ok) throw new Error('List failed: ' + data.error); const channels = (data.channels || []).map(c => ({ name: c.name, id: c.id, member_count: c.num_members || 0, topic: c.topic?.value || '', purpose: c.purpose?.value || '', is_private: c.is_private || false, is_archived: c.is_archived || false })); return { result_count: channels.length, channels: channels }",
      "name": "result",
      "label": "List channels via Slack API"
    }
  ]
}
