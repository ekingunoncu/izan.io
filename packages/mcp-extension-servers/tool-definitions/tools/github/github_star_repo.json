{
  "id": "github-star-repo",
  "name": "github_star_repo",
  "description": "Star a GitHub repository. You must be logged into GitHub.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "repo_url",
      "type": "string",
      "description": "GitHub repository URL (e.g. 'https://github.com/owner/repo')",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "{{repo_url}}",
      "label": "Open repository"
    },
    {
      "action": "waitForSelector",
      "selector": "[data-testid='latest-commit'], .BorderGrid-row, .repository-content",
      "timeout": 15000,
      "label": "Wait for repo page"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let page render"
    },
    {
      "action": "code",
      "code": "const allBtns = document.querySelectorAll('button'); let starBtn = null; let alreadyStarred = false; for (const btn of allBtns) { const text = btn.textContent.trim().toLowerCase(); const label = (btn.getAttribute('aria-label') || '').toLowerCase(); if (text === 'star' || label.includes('star this repository') || label === 'star') { starBtn = btn; break; } if (text === 'starred' || text === 'unstar' || label.includes('unstar this repository') || label === 'unstar') { alreadyStarred = true; break; } } if (!starBtn && !alreadyStarred) { starBtn = document.querySelector('[data-ga-click*=\"star\"] button, form.unstarred button, form[action*=\"/star\"] button'); } if (!starBtn && !alreadyStarred) { const starred = document.querySelector('form.starred button, form[action*=\"/unstar\"] button'); if (starred) alreadyStarred = true; } if (alreadyStarred) return { success: true, message: 'Already starred', repo: window.location.pathname.substring(1) }; if (!starBtn) return { success: false, message: 'Star button not found - make sure you are logged in' }; starBtn.click(); await new Promise(r => setTimeout(r, 1500)); return { success: true, message: 'Repository starred', repo: window.location.pathname.substring(1) }",
      "name": "result",
      "label": "Click star button"
    }
  ]
}
