{
  "id": "github-scrape-repo",
  "name": "github_scrape_repo",
  "description": "Scrape detailed info about a GitHub repository including stars, forks, description, languages, recent activity, and README excerpt.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "repo_url",
      "type": "string",
      "description": "GitHub repository URL (e.g. 'https://github.com/owner/repo')",
      "required": true
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "{{repo_url}}",
      "label": "Open repository"
    },
    {
      "action": "waitForSelector",
      "selector": "[data-testid='latest-commit'], .BorderGrid-row, .repository-content",
      "timeout": 15000,
      "label": "Wait for repo page"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let page render"
    },
    {
      "action": "code",
      "code": "const pathParts = window.location.pathname.split('/').filter(Boolean); const owner = pathParts[0] || ''; const repoName = pathParts[1] || ''; const nameEl = document.querySelector('[itemprop=\"name\"], strong[itemprop=\"name\"] a, a[data-testid=\"repository-title-link\"]'); const desc = document.querySelector('[itemprop=\"description\"], .f4.my-3, p.f4')?.textContent?.trim() || ''; const starsEl = document.querySelector('#repo-stars-counter-star, a[href$=\"/stargazers\"] .Counter, a[href*=\"/stargazers\"]'); const stars = starsEl ? starsEl.textContent.trim().replace(/[^\\d.kKmM]/g, '') : ''; const forksEl = document.querySelector('#repo-network-counter, a[href$=\"/forks\"] .Counter, a[href*=\"/forks\"]'); const forks = forksEl ? forksEl.textContent.trim().replace(/[^\\d.kKmM]/g, '') : ''; const watchersEl = document.querySelector('#repo-watchers-counter, a[href$=\"/watchers\"] .Counter'); const watchers = watchersEl ? watchersEl.textContent.trim() : ''; const topics = Array.from(document.querySelectorAll('.topic-tag, a[data-octo-click=\"topic_click\"], a[href*=\"/topics/\"]')).map(t => t.textContent.trim()).filter(t => t && !t.includes(' ')); const languages = Array.from(document.querySelectorAll('.BorderGrid-row .Progress-item, li.d-inline a[aria-label]')).map(l => l.getAttribute('aria-label') || '').filter(Boolean); const readme = document.querySelector('#readme article, .markdown-body, [data-testid=\"readme\"]')?.textContent?.trim()?.substring(0, 500) || ''; const licenseEl = document.querySelector('a[href*=\"LICENSE\"], a[data-analytics-event*=\"LICENSE\"], .octicon-law'); const license = licenseEl ? (licenseEl.closest('a') || licenseEl.parentElement)?.textContent?.trim() || '' : ''; return { name: owner + '/' + repoName, description: desc, stars: stars, forks: forks, watchers: watchers, topics: topics.slice(0, 10), languages: languages, license: license, readme_excerpt: readme, url: window.location.href }",
      "name": "result",
      "label": "Extract repo details"
    }
  ]
}
