{
  "id": "github-list-issues",
  "name": "github_list_issues",
  "description": "List issues for a GitHub repository. Returns issue titles, numbers, labels, authors, and state.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "repo",
      "type": "string",
      "description": "Repository in 'owner/repo' format (e.g. 'facebook/react')",
      "required": true
    },
    {
      "name": "state",
      "type": "string",
      "description": "Issue state: 'open', 'closed' (default: open)",
      "required": false,
      "default": "open"
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://github.com/{{repo}}/issues",
      "urlParams": {
        "q": "is:issue is:{{state}}"
      },
      "label": "Open issues page"
    },
    {
      "action": "waitForSelector",
      "selector": "[data-testid='issue-row'], .js-issue-row, .Box-row, [aria-label='Issues']",
      "timeout": 15000,
      "label": "Wait for issues list"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let page render"
    },
    {
      "action": "code",
      "code": "const issues = []; const rows = document.querySelectorAll('[data-testid=\"issue-row\"], .js-issue-row, .Box-row'); for (let i = 0; i < Math.min(rows.length, 20); i++) { const row = rows[i]; const titleEl = row.querySelector('a[data-hovercard-type=\"issue\"], a.Link--primary, a[id^=\"issue_\"]'); const labels = Array.from(row.querySelectorAll('a.IssueLabel, a[data-name], .lh-default .label')).map(l => l.textContent.trim()); const authorEl = row.querySelector('a[data-hovercard-type=\"user\"], .opened-by a'); const timeEl = row.querySelector('relative-time'); const href = titleEl ? (titleEl.getAttribute('href') || '') : ''; const numberMatch = href.match(/\\/(\\d+)$/); issues.push({ title: titleEl ? titleEl.textContent.trim() : '', number: numberMatch ? numberMatch[1] : '', labels: labels, author: authorEl ? authorEl.textContent.trim() : '', time: timeEl ? timeEl.getAttribute('datetime') || timeEl.textContent.trim() : '', url: titleEl ? (titleEl.href || ('https://github.com' + href)) : '' }); } const repoPath = window.location.pathname.replace(/\\/issues.*/, '').substring(1); return { repo: repoPath, result_count: issues.length, issues: issues }",
      "name": "result",
      "label": "Extract issues from DOM"
    }
  ]
}
