{
  "id": "github-list-issues",
  "name": "github_list_issues",
  "description": "List issues for a GitHub repository. Returns issue titles, numbers, labels, authors, and state.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "repo",
      "type": "string",
      "description": "Repository in 'owner/repo' format (e.g. 'facebook/react')",
      "required": true
    },
    {
      "name": "state",
      "type": "string",
      "description": "Issue state: 'open', 'closed', 'all' (default: open)",
      "required": false,
      "default": "open"
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://github.com/{{repo}}/issues",
      "urlParams": {
        "q": "is:issue is:{{state}}"
      },
      "label": "Open issues page"
    },
    {
      "action": "waitForSelector",
      "selector": "[data-testid='issue-row'], .js-issue-row, .Box-row",
      "timeout": 15000,
      "label": "Wait for issues list"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let page render"
    },
    {
      "action": "code",
      "code": "const issues = []; const rows = document.querySelectorAll('[data-testid=\"issue-row\"], .js-issue-row, .Box-row'); for (let i = 0; i < Math.min(rows.length, 20); i++) { const row = rows[i]; const titleEl = row.querySelector('a[data-hovercard-type=\"issue\"], a.Link--primary'); const numberEl = row.querySelector('.opened-by, .text-small'); const labels = Array.from(row.querySelectorAll('a.IssueLabel, .lh-default .label')).map(l => l.textContent.trim()); const authorEl = row.querySelector('.opened-by a, a[data-hovercard-type=\"user\"]'); const timeEl = row.querySelector('relative-time'); issues.push({ title: titleEl ? titleEl.textContent.trim() : '', number: titleEl ? titleEl.href.split('/').pop() : '', labels: labels, author: authorEl ? authorEl.textContent.trim() : '', time: timeEl ? timeEl.getAttribute('datetime') || timeEl.textContent.trim() : '', url: titleEl ? titleEl.href : '' }); } return { repo: '{{repo}}', result_count: issues.length, issues: issues }",
      "name": "result",
      "label": "Extract issues from DOM"
    }
  ]
}
