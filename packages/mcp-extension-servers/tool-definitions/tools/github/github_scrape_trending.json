{
  "id": "github-scrape-trending",
  "name": "github_scrape_trending",
  "description": "Scrape trending repositories from GitHub. Returns top trending repos with name, description, language, and stars.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "language",
      "type": "string",
      "description": "Programming language filter (e.g. 'python', 'javascript', 'rust'). Leave empty for all languages.",
      "required": false,
      "default": ""
    },
    {
      "name": "since",
      "type": "string",
      "description": "Time range: 'daily', 'weekly', 'monthly' (default: daily)",
      "required": false,
      "default": "daily"
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://github.com/trending/{{language}}",
      "urlParams": {
        "since": "{{since}}"
      },
      "label": "Open trending page"
    },
    {
      "action": "waitForSelector",
      "selector": "article.Box-row, .Box .Box-row",
      "timeout": 15000,
      "label": "Wait for trending repos"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let page render"
    },
    {
      "action": "code",
      "code": "const repos = []; const rows = document.querySelectorAll('article.Box-row'); for (let i = 0; i < Math.min(rows.length, 25); i++) { const row = rows[i]; const nameEl = row.querySelector('h2 a, h1 a'); const descEl = row.querySelector('p'); const langEl = row.querySelector('[itemprop=\"programmingLanguage\"]'); const allLinks = row.querySelectorAll('a'); let starsText = ''; let forksText = ''; let todayText = ''; for (const link of allLinks) { const href = link.getAttribute('href') || ''; if (href.endsWith('/stargazers')) starsText = link.textContent.trim(); if (href.endsWith('/forks')) forksText = link.textContent.trim(); } const spans = row.querySelectorAll('span.d-inline-block.float-sm-right, span.float-sm-right'); for (const s of spans) { const t = s.textContent.trim(); if (t.includes('star')) { todayText = t; break; } } if (!todayText) { const lastSpan = row.querySelector('span:last-child'); if (lastSpan && lastSpan.textContent.includes('star')) todayText = lastSpan.textContent.trim(); } repos.push({ name: nameEl ? nameEl.textContent.trim().replace(/\\s+/g, '') : '', description: descEl ? descEl.textContent.trim().substring(0, 200) : '', language: langEl ? langEl.textContent.trim() : '', stars: starsText, forks: forksText, stars_today: todayText, url: nameEl ? 'https://github.com' + nameEl.getAttribute('href') : '' }); } return { result_count: repos.length, repos: repos }",
      "name": "result",
      "label": "Extract trending repos"
    }
  ]
}
