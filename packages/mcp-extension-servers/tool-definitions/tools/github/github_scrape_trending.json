{
  "id": "github-scrape-trending",
  "name": "github_scrape_trending",
  "description": "Scrape trending repositories from GitHub. Returns top trending repos with name, description, language, and stars.",
  "version": "1.0.0",
  "parameters": [
    {
      "name": "language",
      "type": "string",
      "description": "Programming language filter (e.g. 'python', 'javascript', 'rust'). Leave empty for all languages.",
      "required": false,
      "default": ""
    },
    {
      "name": "since",
      "type": "string",
      "description": "Time range: 'daily', 'weekly', 'monthly' (default: daily)",
      "required": false,
      "default": "daily"
    }
  ],
  "steps": [
    {
      "action": "navigate",
      "url": "https://github.com/trending/{{language}}",
      "urlParams": {
        "since": "{{since}}"
      },
      "label": "Open trending page"
    },
    {
      "action": "waitForSelector",
      "selector": "article.Box-row, .explore-content .Box-row",
      "timeout": 15000,
      "label": "Wait for trending repos"
    },
    {
      "action": "wait",
      "ms": 2000,
      "label": "Let page render"
    },
    {
      "action": "code",
      "code": "const repos = []; const rows = document.querySelectorAll('article.Box-row, .Box-row'); for (let i = 0; i < Math.min(rows.length, 25); i++) { const row = rows[i]; const nameEl = row.querySelector('h2 a, h1 a'); const descEl = row.querySelector('p'); const langEl = row.querySelector('[itemprop=\"programmingLanguage\"], span.repo-language-color + span'); const starsEl = row.querySelector('a[href*=\"/stargazers\"], .mr-3 svg.octicon-star'); const starsText = starsEl?.parentElement?.textContent?.trim() || ''; const todayEl = row.querySelector('.float-sm-right, span.d-inline-block.float-sm-right'); repos.push({ name: nameEl ? nameEl.textContent.trim().replace(/\\s+/g, '') : '', description: descEl ? descEl.textContent.trim().substring(0, 200) : '', language: langEl ? langEl.textContent.trim() : '', stars: starsText, stars_today: todayEl ? todayEl.textContent.trim() : '', url: nameEl ? 'https://github.com' + nameEl.getAttribute('href') : '' }); } return { result_count: repos.length, repos: repos }",
      "name": "result",
      "label": "Extract trending repos"
    }
  ]
}
